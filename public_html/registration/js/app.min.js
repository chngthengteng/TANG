!function(){function t(t){for(var e,n,i=t.css("color"),t=t[0],r=!1;t&&!n&&!r;){try{e=$(t).css("background-color")}catch(s){e="transparent"}"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e&&(n=e),r=t.body,t=t.parentNode}var o,t=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,r=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/;e=void 0,(e=i.match(t))?o={r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}:(e=i.match(r))&&(o={r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)});var a;return n?(e=void 0,(e=n.match(t))?a={r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}:(e=n.match(r))&&(a={r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)})):a=o&&127<Math.max.apply(null,[o.r,o.g,o.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255},e=function(t){return"rgb("+[t.r,t.g,t.b].join(", ")+")"},o&&a?(t=Math.max.apply(null,[o.r,o.g,o.b]),o=Math.max.apply(null,[a.r,a.g,a.b]),o=Math.round(o+-.75*(o-t)),o={r:o,g:o,b:o}):o?(o=Math.max.apply(null,[o.r,o.g,o.b]),t=1,127<o&&(t=-1),o=Math.round(o+96*t),o={r:o,g:o,b:o}):o={r:191,g:191,b:191},{color:i,"background-color":a?e(a):n,"decor-color":e(o)}}function e(t,e){this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var n=function(t){return Math.round(t/Math.abs(t))};this.resizeTo=function(t){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=t,this.y=t*n(this.y);else if(0===this.y)this._length=t,this.x=t*n(this.x);else{var e=Math.abs(this.y/this.x),i=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2))),e=e*i;this._length=t,this.x=i*n(this.x),this.y=e*n(this.y)}return this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0===e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function n(t,n){this.x=t,this.y=n,this.getVectorToCoordinates=function(t,n){return new e(t-this.x,n-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(t){return new e(t.x-this.x,t.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function i(t,e,n,i,r){if(this.data=t,this.context=e,t.length)for(var s,o,a=t.length,h=0;h<a;h++){s=t[h],o=s.x.length,n.call(e,s);for(var u=1;u<o;u++)i.call(e,s,u);r.call(e,s)}this.changed=function(){},this.startStrokeFn=n,this.addToStrokeFn=i,this.endStrokeFn=r,this.inStroke=!1,this._stroke=this._lastPoint=null,this.startStroke=function(t){if(t&&"number"==typeof t.x&&"number"==typeof t.y){this._stroke={x:[t.x],y:[t.y]},this.data.push(this._stroke),this._lastPoint=t,this.inStroke=!0;var e=this._stroke,n=this.startStrokeFn,i=this.context;return setTimeout(function(){n.call(i,e)},3),t}return null},this.addToStroke=function(t){if(this.inStroke&&"number"==typeof t.x&&"number"==typeof t.y&&4<Math.abs(t.x-this._lastPoint.x)+Math.abs(t.y-this._lastPoint.y)){var e=this._stroke.x.length;this._stroke.x.push(t.x),this._stroke.y.push(t.y),this._lastPoint=t;var n=this._stroke,i=this.addToStrokeFn,r=this.context;return setTimeout(function(){i.call(r,n,e)},3),t}return null},this.endStroke=function(){var t=this.inStroke;if(this.inStroke=!1,this._lastPoint=null,t){var e=this._stroke,n=this.endStrokeFn,i=this.context,r=this.changed;return setTimeout(function(){n.call(i,e),r.call(i)},3),!0}return null}}function r(e,i,r){var h=this.$parent=$(e),e=this.eventTokens={};this.events=new a(this);var u=$.fn[s]("globalEvents"),c={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,data:[]};$.extend(c,t(h)),i&&$.extend(c,i),this.settings=c;for(var l in r)r.hasOwnProperty(l)&&r[l].call(this,l);this.events.publish(s+".initializing"),this.$controlbarUpper=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1em !important;margin-bottom:1em !important;"></div>').appendTo(h),this.isCanvasEmulator=!1,r=this.canvas=this.initializeCanvas(c),i=$(r),this.$controlbarLower=$('<div style="padding:0 !important;margin:0 !important;width: 100% !important; height: 0 !important;margin-top:-1.5em !important;margin-bottom:1.5em !important;"></div>').appendTo(h),this.canvasContext=r.getContext("2d"),i.data(s+".this",this),h=(h=c.lineWidth)?h:Math.max(Math.round(r.width/400),2),c.lineWidth=h,this.lineCurveThreshold=3*c.lineWidth,c.cssclass&&""!=$.trim(c.cssclass)&&i.addClass(c.cssclass),this.fatFingerCompensation=0;var h=function(t){var e,i,r=function(r){return r=r.changedTouches&&0<r.changedTouches.length?r.changedTouches[0]:r,new n(Math.round(r.pageX+e),Math.round(r.pageY+i)+t.fatFingerCompensation)},s=new o(750,function(){t.dataEngine.endStroke()});return this.drawEndHandler=function(e){try{e.preventDefault()}catch(n){}s.clear(),t.dataEngine.endStroke()},this.drawStartHandler=function(n){n.preventDefault();var o=$(t.canvas).offset();e=-1*o.left,i=-1*o.top,t.dataEngine.startStroke(r(n)),s.kick()},this.drawMoveHandler=function(e){e.preventDefault(),t.dataEngine.inStroke&&(t.dataEngine.addToStroke(r(e)),s.kick())},this}.call({},this),d=h.drawEndHandler,g=h.drawStartHandler,p=h.drawMoveHandler,f=this.canvas,i=$(f);this.isCanvasEmulator?(i.bind("mousemove."+s,p),i.bind("mouseup."+s,d),i.bind("mousedown."+s,g)):(f.ontouchstart=function(t){f.onmousedown=void 0,f.onmouseup=void 0,f.onmousemove=void 0,this.fatFingerCompensation=c.minFatFingerCompensation&&-3*c.lineWidth>c.minFatFingerCompensation?-3*c.lineWidth:c.minFatFingerCompensation,g(t),f.ontouchend=d,f.ontouchstart=g,f.ontouchmove=p},f.onmousedown=function(t){f.ontouchstart=void 0,f.ontouchend=void 0,f.ontouchmove=void 0,g(t),f.onmousedown=g,f.onmouseup=d,f.onmousemove=p}),e[s+".windowmouseup"]=u.subscribe(s+".windowmouseup",h.drawEndHandler),this.events.publish(s+".attachingEventHandlers");var v=this,e=c.width.toString(10),y=s;return"ratio"!==e&&"%"!==e.split("")[e.length-1]||(this.eventTokens[y+".parentresized"]=u.subscribe(y+".parentresized",function(t,e,n){return function(){var i=e.width();if(i!==n){for(var r in t)t.hasOwnProperty(r)&&(u.unsubscribe(t[r]),delete t[r]);var s=v.settings;v.$parent.children().remove();for(r in v)v.hasOwnProperty(r)&&delete v[r];r=s.data;var o,a,h,c,l,d,i=1*i/n,g=[];for(a=0,h=r.length;a<h;a++){for(d=r[a],o={x:[],y:[]},c=0,l=d.x.length;c<l;c++)o.x.push(d.x[c]*i),o.y.push(d.y[c]*i);g.push(o)}s.data=g,e[y](s)}}}(this.eventTokens,this.$parent,this.$parent.width(),1*this.canvas.width/this.canvas.height))),this.resetCanvas(c.data),this.events.publish(s+".initialized"),this}var s="jSignature",o=function(t,e){var n;return this.kick=function(){clearTimeout(n),n=setTimeout(e,t)},this.clear=function(){clearTimeout(n)},this},a=function(t){this.topics={},this.context=t?t:this,this.publish=function(t,e,n,i){if(this.topics[t]){var r,s,o,a,h=this.topics[t],u=Array.prototype.slice.call(arguments,1),c=[];for(s=0,o=h.length;s<o;s++)a=h[s],r=a[0],a[1]&&(a[0]=function(){},c.push(s)),r.apply(this.context,u);for(s=0,o=c.length;s<o;s++)h.splice(c[s],1)}},this.subscribe=function(t,e,n){return this.topics[t]?this.topics[t].push([e,n]):this.topics[t]=[[e,n]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic])for(var e=this.topics[t.topic],n=0,i=e.length;n<i;n++)e[n][0]===t.callback&&e.splice(n,1)}},h=function(t){var e=this.canvasContext,n=t.x[0],t=t.y[0],i=this.settings.lineWidth,r=e.fillStyle;e.fillStyle=e.strokeStyle,e.fillRect(n+i/-2,t+i/-2,i,i),e.fillStyle=r},u=function(t,i){var r=new n(t.x[i-1],t.y[i-1]),s=new n(t.x[i],t.y[i]),o=r.getVectorToPoint(s);if(1<i){var a,h=new n(t.x[i-2],t.y[i-2]),u=h.getVectorToPoint(r);if(u.getLength()>this.lineCurveThreshold){a=2<i?new n(t.x[i-3],t.y[i-3]).getVectorToPoint(h):new e(0,0);var c=.35*u.getLength(),l=u.angleTo(a.reverse()),d=o.angleTo(u.reverse());a=new e(a.x+u.x,a.y+u.y).resizeTo(Math.max(.05,l)*c);var g=new e(u.x+o.x,u.y+o.y).reverse().resizeTo(Math.max(.05,d)*c),u=this.canvasContext,c=h.x,d=h.y,l=r.x,p=r.y,f=h.x+a.x,h=h.y+a.y;a=r.x+g.x,g=r.y+g.y,u.beginPath(),u.moveTo(c,d),u.bezierCurveTo(f,h,a,g,l,p),u.stroke()}}o.getLength()<=this.lineCurveThreshold&&(o=this.canvasContext,h=r.x,r=r.y,a=s.x,s=s.y,o.beginPath(),o.moveTo(h,r),o.lineTo(a,s),o.stroke())},c=function(t){var i=t.x.length-1;if(0<i){var r=new n(t.x[i],t.y[i]),s=new n(t.x[i-1],t.y[i-1]),o=s.getVectorToPoint(r);if(o.getLength()>this.lineCurveThreshold){if(1<i){var t=new n(t.x[i-2],t.y[i-2]).getVectorToPoint(s),a=new e(t.x+o.x,t.y+o.y).resizeTo(o.getLength()/2),o=this.canvasContext,t=s.x,i=s.y,h=r.x,u=r.y,c=s.x+a.x,s=s.y+a.y,a=r.x,r=r.y;o.beginPath(),o.moveTo(t,i),o.bezierCurveTo(c,s,a,r,h,u)}else o=this.canvasContext,t=s.x,s=s.y,i=r.x,r=r.y,o.beginPath(),o.moveTo(t,s),o.lineTo(i,r);o.stroke()}}};r.prototype.resetCanvas=function(t){var e=this.canvas,n=this.settings,r=this.canvasContext,o=this.isCanvasEmulator,a=e.width,l=e.height;r.clearRect(0,0,a+30,l+30),r.shadowColor=r.fillStyle=n["background-color"],o&&r.fillRect(0,0,a+30,l+30),r.lineWidth=Math.ceil(parseInt(n.lineWidth,10)),r.lineCap=r.lineJoin="round",r.strokeStyle=n["decor-color"],r.shadowOffsetX=0,r.shadowOffsetY=0;var d=Math.round(l/5),g=1.5*d,p=l-d,a=a-1.5*d,l=l-d;r.beginPath(),r.moveTo(g,p),r.lineTo(a,l),r.stroke(),r.strokeStyle=n.color,o||(r.shadowColor=r.strokeStyle,r.shadowOffsetX=.5*r.lineWidth,r.shadowOffsetY=-.6*r.lineWidth,r.shadowBlur=0),t||(t=[]),r=this.dataEngine=new i(t,this,h,u,c),n.data=t,$(e).data(s+".data",t).data(s+".settings",n);var f=this.$parent,v=this.events,y=s;return r.changed=function(){v.publish(y+".change"),f.trigger("change")},r.changed(),!0},r.prototype.initializeCanvas=function(t){var e=document.createElement("canvas"),n=$(e);if(t.width===t.height&&"ratio"===t.height&&(t.width="100%"),n.css("margin",0).css("padding",0).css("border","none").css("height","ratio"!==t.height&&t.height?t.height.toString(10):1).css("width","ratio"!==t.width&&t.width?t.width.toString(10):1),n.appendTo(this.$parent),"ratio"===t.height?n.css("height",Math.round(n.width()/t.sizeRatio)):"ratio"===t.width&&n.css("width",Math.round(n.height()*t.sizeRatio)),n.addClass(s),e.width=n.width(),e.height=n.height(),t=e,t.getContext)t=!1;else{var n=t.ownerDocument.parentWindow,i=n.FlashCanvas?t.ownerDocument.parentWindow.FlashCanvas:"undefined"==typeof FlashCanvas?void 0:FlashCanvas;if(!i)throw Error("Canvas element does not support 2d context. jSignature cannot proceed.");if(t=i.initElement(t),i=1,n&&n.screen&&n.screen.deviceXDPI&&n.screen.logicalXDPI&&(i=1*n.screen.deviceXDPI/n.screen.logicalXDPI),1!==i)try{$(t).children("object").get(0).resize(Math.ceil(t.width*i),Math.ceil(t.height*i)),t.getContext("2d").scale(i,i)}catch(r){}t=!0}return this.isCanvasEmulator=t,e.onselectstart=function(t){return t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),!1},e};var l,d=window,g=function(t,e){var n=new Image,i=this;n.onload=function(){i.getContext("2d").drawImage(n,0,0,n.width<i.width?n.width:i.width,n.height<i.height?n.height:i.height)},n.src="data:"+e+","+t},p=function(t){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").resetCanvas(t),this},f=function(t,e){if(void 0!==e||"string"!=typeof t||"data:"!==t.substr(0,5)||(e=t.slice(5).split(",")[0],t=t.slice(6+e.length),e!==t)){var n=this.find("canvas."+s).add(this.filter("canvas."+s));if(!b.hasOwnProperty(e))throw Error(s+" is unable to find import plugin with for format '"+String(e)+"'");return 0!==n.length&&b[e].call(n[0],t,e,function(t){return function(){return t.resetCanvas.apply(t,arguments)}}(n.data(s+".this"))),this}},v=new a,y=s,x=function(){v.publish(y+".parentresized")};$(d).bind("resize."+y,function(){l&&clearTimeout(l),l=setTimeout(x,500)}).bind("mouseup."+y,function(){v.publish(y+".windowmouseup")});var m={},w={"default":function(){return this.toDataURL()},"native":function(t){return t},image:function(){var t=this.toDataURL();if("string"==typeof t&&4<t.length&&"data:"===t.slice(0,5)&&-1!==t.indexOf(",")){var e=t.indexOf(",");return[t.slice(5,e),t.substr(e+1)]}return[]}},b={"native":function(t,e,n){n(t)},image:g,"image/png;base64":g,"image/jpeg;base64":g,"image/jpg;base64":g},T={"export":w,"import":b,instance:m},C={init:function(t){return this.each(function(){var e,n=!1;for(e=this.parentNode;e&&!n;)n=e.body,e=e.parentNode;!n||new r(this,t,m)})},getSettings:function(){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").settings},clear:p,reset:p,addPlugin:function(t,e,n){return T.hasOwnProperty(t)&&(T[t][e]=n),this},listPlugins:function(t){var e=[];if(T.hasOwnProperty(t)){var n,t=T[t];for(n in t)t.hasOwnProperty(n)&&e.push(n)}return e},getData:function(t){var e=this.find("canvas."+s).add(this.filter("canvas."+s));if(void 0===t&&(t="default"),0!==e.length&&w.hasOwnProperty(t))return w[t].call(e.get(0),e.data(s+".data"))},importData:f,setData:f,globalEvents:function(){return v},events:function(){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".this").events}};$.fn[s]=function(t){return t&&"object"!=typeof t?"string"==typeof t&&C[t]?C[t].apply(this,Array.prototype.slice.call(arguments,1)):void $.error("Method "+String(t)+" does not exist on jQuery."+s):C.init.apply(this,arguments)}}(),function(){$.fn.jSignature("addPlugin","instance","UndoButton",function(t){this.events.subscribe("jSignature.attachingEventHandlers",function(){if(this.settings[t]){var e=this.settings[t];"function"!=typeof e&&(e=function(){var t=$('<input type="button" value="Undo last stroke" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),e=t.width();return t.css("left",Math.round((this.canvas.width-e)/2)),e!==t.width()&&t.width(e),t});var n=e.call(this),i=this;i.events.subscribe("jSignature.change",function(){i.dataEngine.data.length?n.show():n.hide()});var r=this,s=(this.events.topics.hasOwnProperty("jSignature.undo")?t:"jSignature")+".undo";n.bind("click",function(){r.events.publish(s)}),r.events.subscribe(s,function(){var t=r.dataEngine.data;t.length&&(t.pop(),r.resetCanvas(t))})}})})}(),function(){for(var t={},e={},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split(""),i=n.length/2,r=i-1;-1<r;r--)t[n[r]]=n[r+i],e[n[r+i]]=n[r];var s=function(e){for(var e=e.split(""),n=e.length,i=1;i<n;i++)e[i]=t[e[i]];return e.join("")},o=function(t){for(var e,n,r=[],o=0,a=1,h=t.length,u=0;u<h;u++)e=Math.round(t[u]),n=e-o,o=e,0>n&&0<a?(a=-1,r.push("Z")):0<n&&0>a&&(a=1,r.push("Y")),e=Math.abs(n),e>=i?r.push(s(e.toString(i))):r.push(e.toString(i));return r.join("")},a=function(n){for(var r,s=[],n=n.split(""),o=n.length,a=1,h=[],u=0,c=0;c<o;c++)r=n[c],r in t||"Z"===r||"Y"===r?(0!==h.length&&(h=parseInt(h.join(""),i)*a+u,s.push(h),u=h),"Z"===r?(a=-1,h=[]):"Y"===r?(a=1,h=[]):h=[r]):h.push(e[r]);return s.push(parseInt(h.join(""),i)*a+u),s},h=function(t){for(var e,n=[],i=t.length,r=0;r<i;r++)e=t[r],n.push(o(e.x)),n.push(o(e.y));return n.join("_")},u=function(t){for(var e=[],t=t.split("_"),n=t.length/2,i=0;i<n;i++)e.push({x:a(t[2*i]),y:a(t[2*i+1])});return e},n=function(t){return["image/jsignature;base30",h(t)]},r=function(t,e,n){"string"==typeof t&&("image/jsignature;base30"===t.substring(0,23).toLowerCase()&&(t=t.substring(24)),n(u(t)))};if(null==this.jQuery)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");var c=this.jQuery.fn.jSignature;c("addPlugin","export","base30",n),c("addPlugin","export","image/jsignature;base30",n),c("addPlugin","import","base30",r),c("addPlugin","import","image/jsignature;base30",r),this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:s,compressstrokeleg:o,uncompressstrokeleg:a,compressstrokes:h,uncompressstrokes:u,charmap:t})}.call("undefined"!=typeof window?window:this),function(){function t(t,e){this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var n=function(t){return Math.round(t/Math.abs(t))};this.resizeTo=function(t){if(0===this.x&&0===this.y)this._length=0;else if(0===this.x)this._length=t,this.y=t*n(this.y);else if(0===this.y)this._length=t,this.x=t*n(this.x);else{var e=Math.abs(this.y/this.x),i=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2))),e=e*i;this._length=t,this.x=i*n(this.x),this.y=e*n(this.y)}return this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0===e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function e(e,n){this.x=e,this.y=n,this.getVectorToCoordinates=function(e,n){return new t(e-this.x,n-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(e){return new t(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function n(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function i(i,r,s){var r=r+1,o=new e(i.x[r-1],i.y[r-1]),a=new e(i.x[r],i.y[r]),a=o.getVectorToPoint(a),h=new e(i.x[r-2],i.y[r-2]),o=h.getVectorToPoint(o);return o.getLength()>s?(s=2<r?new e(i.x[r-3],i.y[r-3]).getVectorToPoint(h):new t(0,0),i=.35*o.getLength(),h=o.angleTo(s.reverse()),r=a.angleTo(o.reverse()),s=new t(s.x+o.x,s.y+o.y).resizeTo(Math.max(.05,h)*i),a=new t(o.x+a.x,o.y+a.y).reverse().resizeTo(Math.max(.05,r)*i),a=new t(o.x+a.x,o.y+a.y),["c",n(s.x,2),n(s.y,2),n(a.x,2),n(a.y,2),n(o.x,2),n(o.y,2)]):["l",n(o.x,2),n(o.y,2)]}function r(i,r){var s=i.x.length-1,o=new e(i.x[s],i.y[s]),a=new e(i.x[s-1],i.y[s-1]),o=a.getVectorToPoint(o);if(1<s&&o.getLength()>r){var s=new e(i.x[s-2],i.y[s-2]).getVectorToPoint(a),a=o.angleTo(s.reverse()),h=.35*o.getLength(),s=new t(s.x+o.x,s.y+o.y).resizeTo(Math.max(.05,a)*h);return["c",n(s.x,2),n(s.y,2),n(o.x,2),n(o.y,2),n(o.x,2),n(o.y,2)]}return["l",n(o.x,2),n(o.y,2)]}function s(t,e,s){for(var e=["M",n(t.x[0]-e,2),n(t.y[0]-s,2)],s=1,o=t.x.length-1;s<o;s++)e.push.apply(e,i(t,s,1));return 0<o?e.push.apply(e,r(t,s,1)):0===o&&e.push.apply(e,["l",1,1]),e.join(" ")}function o(t){var e,n,i=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],r=t.length,o=[],a=[],h=n=e=0,u=0,c=[];if(0!==r){for(e=0;e<r;e++){h=t[e],u=[],n={x:[],y:[]};for(var l=void 0,d=void 0,l=0,d=h.x.length;l<d;l++)u.push({x:h.x[l],y:h.y[l]});for(u=simplify(u,.7,!0),l=0,d=u.length;l<d;l++)n.x.push(u[l].x),n.y.push(u[l].y);c.push(n),o=o.concat(n.x),a=a.concat(n.y)}t=Math.min.apply(null,o)-1,r=Math.max.apply(null,o)+1,o=Math.min.apply(null,a)-1,a=Math.max.apply(null,a)+1,h=0>t?0:t,u=0>o?0:o,e=r-t,n=a-o}for(i.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+e.toString()+'" height="'+n.toString()+'">'),e=0,r=c.length;e<r;e++)n=c[e],i.push('<path fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="'+s(n,h,u)+'"/>');return i.push("</svg>"),i.join("")}function a(t){return[l,o(t)]}function h(t){return[d,c(o(t))]}var u=window;if(("undefined"!=typeof exports?exports:u).simplify=function(t,e,n){if(e=void 0!==e?e*e:1,!n){for(var i,r=t.length,s=t[0],o=[s],n=1;n<r;n++){i=t[n];var a=i.x-s.x,h=i.y-s.y;a*a+h*h>e&&(o.push(i),s=i)}s!==i&&o.push(i),t=o}i=t;var u,c,n=i.length,r=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(n),s=0,o=n-1,l=[],d=[],g=[];for(r[s]=r[o]=1;o;){for(h=0,a=s+1;a<o;a++){u=i[a];var p=i[s],f=i[o],v=p.x,y=p.y,p=f.x-v,x=f.y-y,m=void 0;0===p&&0===x||(m=((u.x-v)*p+(u.y-y)*x)/(p*p+x*x),1<m?(v=f.x,y=f.y):0<m&&(v+=p*m,y+=x*m)),p=u.x-v,x=u.y-y,u=p*p+x*x,u>h&&(c=a,h=u)}h>e&&(r[c]=1,l.push(s),d.push(c),l.push(c),d.push(o)),s=l.pop(),o=d.pop()}for(a=0;a<n;a++)r[a]&&g.push(i[a]);return t=g},"function"!=typeof c)var c=function(t){var e,n,i,r,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),o=0,a=0,h="",h=[];do e=t.charCodeAt(o++),n=t.charCodeAt(o++),i=t.charCodeAt(o++),r=e<<16|n<<8|i,e=r>>18&63,n=r>>12&63,i=r>>6&63,r&=63,h[a++]=s[e]+s[n]+s[i]+s[r];while(o<t.length);return h=h.join(""),t=t.length%3,(t?h.slice(0,t-3):h)+"===".slice(t||3)};var l="image/svg+xml",d="image/svg+xml;base64";if("undefined"==typeof $)throw Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");u=$.fn.jSignature,u("addPlugin","export","svg",a),u("addPlugin","export",l,a),u("addPlugin","export","svgbase64",h),u("addPlugin","export",d,h)}();
//# sourceMappingURL=maps/app.min.js.map
